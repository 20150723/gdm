2007-08-01  William Jon McCann  <mccann@jhu.edu>

	* daemon/gdm-session-worker.c: (open_idle), (free_open_data),
	(queue_open), (on_begin_verification),
	(on_begin_verification_for_user):
	* daemon/gdm-session.c: (gdm_session_handle_verification_failed):
	* daemon/gdm-simple-slave.c: (greeter_reset_timeout),
	(queue_greeter_reset), (on_user_verification_error):
	* gui/simple-greeter/gdm-simple-greeter.c: (set_message),
	(do_cancel), (reset_dialog), (gdm_simple_greeter_reset),
	(gdm_simple_greeter_info), (gdm_simple_greeter_problem),
	(gdm_simple_greeter_info_query),
	(gdm_simple_greeter_secret_info_query), (cancel_button_clicked):
	* gui/simple-greeter/gdm-simple-greeter.glade:
	Report errors to the greeter.  Reset greeter after errors.
	Open the session in an idle.

2007-08-01  William Jon McCann  <mccann@jhu.edu>

	* gui/simple-greeter/gdm-simple-greeter.c: (set_busy), (set_ready),
	(set_sensitive), (reset_dialog), (gdm_simple_greeter_info_query),
	(gdm_simple_greeter_secret_info_query), (ok_button_clicked),
	(cancel_button_clicked), (create_greeter):
	* gui/simple-greeter/gdm-simple-greeter.glade:
	Change sensitivity and cursor when waiting.

2007-08-01  William Jon McCann  <mccann@jhu.edu>

	* daemon/gdm-session.c: (answer_pending_query):
	* daemon/gdm-simple-slave.c: (create_new_session),
	(on_greeter_cancel):
	Reopen the session after the greeter is cancelled.

2007-08-01  William Jon McCann  <mccann@jhu.edu>

	* daemon/Makefile.am:
	* daemon/ck-connector.c: (lookup_parameter_type),
	(add_param_basic), (_ck_connector_free), (ck_connector_unref),
	(ck_connector_ref), (ck_connector_new),
	(ck_connector_open_session),
	(ck_connector_open_session_with_parameters_valist),
	(ck_connector_open_session_with_parameters),
	(ck_connector_open_session_for_user), (ck_connector_get_cookie),
	(ck_connector_close_session):
	* daemon/ck-connector.h:
	* daemon/gdm-ck-session.c:
	* daemon/gdm-ck-session.h:
	* daemon/gdm-factory-slave.c: (run_greeter):
	* daemon/gdm-greeter-proxy.c: (open_greeter_session),
	(close_greeter_session), (get_greeter_environment),
	(greeter_proxy_child_watch), (gdm_greeter_proxy_spawn),
	(gdm_greeter_proxy_stop),
	(_gdm_greeter_proxy_set_x11_display_hostname),
	(_gdm_greeter_proxy_set_x11_display_is_local),
	(gdm_greeter_proxy_set_property), (gdm_greeter_proxy_get_property),
	(gdm_greeter_proxy_class_init), (gdm_greeter_proxy_init),
	(gdm_greeter_proxy_finalize), (gdm_greeter_proxy_new):
	* daemon/gdm-greeter-proxy.h:
	* daemon/gdm-simple-slave.c: (slave_open_ck_session),
	(setup_session_environment), (run_greeter):
	Make ConsoleKit session registration more robust and complete.

2007-07-26  William Jon McCann  <mccann@jhu.edu>

	* daemon/gdm-greeter-proxy.c: (close_greeter_session),
	(greeter_proxy_child_watch), (gdm_greeter_proxy_stop):
	Close greeter ConsoleKit session.

2007-07-26  William Jon McCann  <mccann@jhu.edu>

	* daemon/gdm-ck-session.c: (open_ck_session), (close_ck_session):
	* daemon/gdm-ck-session.h:
	* daemon/gdm-greeter-proxy.c: (open_greeter_session),
	(gdm_greeter_proxy_spawn):
	* daemon/gdm-simple-slave.c: (slave_open_ck_session),
	(setup_session_environment), (gdm_simple_slave_init):
	Register user session with ConsoleKit.

2007-07-25  William Jon McCann  <mccann@jhu.edu>

	* common/gdm-address.c: (gdm_address_get_hostname),
	(gdm_address_get_numeric_info), (address_family_str),
	(gdm_address_debug):
	* common/gdm-address.h:
	* daemon/Makefile.am:
	* daemon/auth.c: (gdm_auth_add_entry),
	(gdm_auth_add_entry_for_display), (gdm_auth_user_add):
	* daemon/auth.h:
	* daemon/gdm-ck-session.c: (unlock_ck_session):
	* daemon/gdm-display.c: (gdm_display_real_add_user_authorization),
	(gdm_display_add_user_authorization),
	(gdm_display_real_remove_user_authorization),
	(gdm_display_remove_user_authorization),
	(gdm_display_get_x11_display_number),
	(gdm_display_get_x11_display_name),
	(_gdm_display_set_x11_display_number),
	(_gdm_display_set_x11_display_name), (gdm_display_set_property),
	(gdm_display_get_property), (gdm_display_class_init):
	* daemon/gdm-display.h:
	* daemon/gdm-display.xml:
	* daemon/gdm-factory-slave.c: (run_greeter):
	* daemon/gdm-greeter-proxy.c: (listify_hash):
	* daemon/gdm-product-display.c:
	(gdm_product_display_add_user_authorization),
	(gdm_product_display_remove_user_authorization),
	(gdm_product_display_class_init), (gdm_product_display_new):
	* daemon/gdm-simple-slave.c: (listify_hash),
	(get_script_environment), (add_user_authorization),
	(setup_session_environment), (run_greeter),
	(gdm_simple_slave_init):
	* daemon/gdm-slave.c: (gdm_slave_real_start),
	(gdm_slave_add_user_authorization),
	(_gdm_slave_set_display_number), (gdm_slave_set_property),
	(gdm_slave_get_property), (gdm_slave_class_init):
	* daemon/gdm-slave.h:
	* daemon/gdm-static-display.c:
	(gdm_static_display_add_user_authorization),
	(gdm_static_display_remove_user_authorization),
	(gdm_static_display_class_init), (gdm_static_display_new):
	* daemon/gdm-static-factory-display.c:
	(gdm_static_factory_display_add_user_authorization),
	(gdm_static_factory_display_remove_user_authorization),
	(gdm_static_factory_display_class_init),
	(gdm_static_factory_display_new):
	* daemon/gdm-xdmcp-display.c: (gdm_xdmcp_display_create_authority),
	(gdm_xdmcp_display_add_user_authorization),
	(gdm_xdmcp_display_remove_user_authorization),
	(_gdm_xdmcp_display_set_remote_address),
	(gdm_xdmcp_display_set_property), (gdm_xdmcp_display_class_init),
	(gdm_xdmcp_display_new):
	* daemon/gdm-xdmcp-manager.c: (do_bind), (gdm_xdmcp_host_allow),
	(lookup_by_host), (gdm_xdmcp_send_willing),
	(gdm_xdmcp_send_unwilling), (gdm_xdmcp_send_forward_query),
	(gdm_forward_query_dispose), (gdm_forward_query_lookup),
	(gdm_xdmcp_handle_forward_query),
	(gdm_xdmcp_really_send_managed_forward),
	(gdm_xdmcp_send_got_managed_forward), (remove_host),
	(gdm_xdmcp_send_decline), (gdm_xdmcp_display_alloc),
	(gdm_xdmcp_send_accept), (gdm_xdmcp_handle_request),
	(gdm_xdmcp_handle_manage), (gdm_xdmcp_handle_managed_forward),
	(gdm_xdmcp_handle_got_managed_forward),
	(gdm_xdmcp_handle_keepalive), (decode_packet):
	* data/gdm.conf:
	* gui/simple-greeter/greeter-main.c: (main):
	Make XDMCP logins work.

2007-07-24  William Jon McCann  <mccann@jhu.edu>

	* daemon/gdm-display.c: (finish_idle), (queue_finish),
	(slave_exited), (slave_died), (gdm_display_manage),
	(gdm_display_real_finish), (gdm_display_finish),
	(gdm_display_dispose), (gdm_display_class_init):
	* daemon/gdm-display.h:
	* daemon/gdm-manager.c: (load_static_displays_from_file):
	* daemon/gdm-product-display.c: (gdm_product_display_finish),
	(gdm_product_display_class_init):
	* daemon/gdm-simple-slave.c: (on_session_exited),
	(on_session_died), (on_opened), (create_new_session),
	(on_greeter_start), (on_greeter_stop), (on_greeter_user_selected),
	(on_greeter_cancel), (on_greeter_connected), (run_greeter),
	(gdm_simple_slave_finalize):
	* daemon/gdm-slave-proxy.c: (child_watch),
	(gdm_slave_proxy_dispose), (gdm_slave_proxy_class_init):
	* daemon/gdm-static-display.c: (gdm_static_display_finish),
	(gdm_static_display_class_init):
	* daemon/gdm-static-factory-display.c:
	(gdm_static_factory_display_finish),
	(gdm_static_factory_display_class_init):
	Dogfood static display.  Make static display work.  Add a finished
	state to the Display.  Always restart static displays on finish.

2007-07-22  Richard Hughes  <richard@hughsie.com>

	* common/Makefile.am:
	* daemon/Makefile.am:
	* data/Makefile.am:
	* gui/simple-greeter/Makefile.am:
	* libgreeter/Makefile.am:
	* po/POTFILES.in:
	* po/POTFILES.skip:
	* utils/Makefile.am:
	Fix make distcheck.

